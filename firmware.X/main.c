/* 
 * File:   main.c
 * Author: Juan Andres Valverde
 * Created on May 5, 2013, 1:17 AM
 */

#include <p30f4011.h>
//#include <stdio.h>
//#include <stdlib.h>
#include <xc.h>
//#include <libpic30.h>

//_FOSC(FRC_PLL16 & CSW_FSCM_OFF)// //Fosc=16x7.37MHz=117.92Mhz, Fcy=29.48MHz=29.48MIPS
////_FOSC(0xC303)
//_FWDT(WDTPSB_16 & WDTPSA_512 & WDT_OFF)
//_FBORPOR(PWRT_OFF & BORV27 & PBOR_ON & PWMxL_ACT_HI & PWMxH_ACT_HI & RST_PWMPIN & MCLR_EN)
//_FGS(GWRP_OFF & CODE_PROT_OFF)
//_FICD(ICS_PGD)
#pragma config FPR = FRC_PLL16
#pragma config FOS = PRI
#pragma config FCKSMEN = CSW_FSCM_OFF
#pragma config WDT = WDT_OFF
#pragma config FPWRT = PWRT_OFF//4
#pragma config BODENV = BORV27
#pragma config BOREN = PBOR_OFF//PBOR_ON
#pragma config MCLRE = MCLR_EN
#pragma config ICS = ICS_PGD
#pragma config GCP = CODE_PROT_OFF

//ADC interrupt, global variables and functions
#include <adc10.h>

unsigned int adc_n=0;
unsigned int adc[2];
double adc_vol[2];
double adc_sen[2];

void __attribute__((__interrupt__,no_auto_psv)) _ADCInterrupt(void){
    ADCON1bits.ADON = 0;    // ADC OFF */

    if(adc_n==0){
        ADCHSbits.CH0SA=1;
        adc[0]=(ADCBUF0+ADCBUF1+ADCBUF2+ADCBUF3+ADCBUF4+ADCBUF5+ADCBUF6+ADCBUF7+ADCBUF8+ADCBUF9+ADCBUFA+ADCBUFB+ADCBUFC+ADCBUFD+ADCBUFE+ADCBUFF)>>4;//10bits 4, 8bits 6
        adc_n=1;
    } else{
        ADCHSbits.CH0SA=0;
        adc[1]=(ADCBUF0+ADCBUF1+ADCBUF2+ADCBUF3+ADCBUF4+ADCBUF5+ADCBUF6+ADCBUF7+ADCBUF8+ADCBUF9+ADCBUFA+ADCBUFB+ADCBUFC+ADCBUFD+ADCBUFE+ADCBUFF)>>4;
        adc_n=0;
    }

    IFS0bits.ADIF = 0;      // Clear ADC interrupt flag */
    ADCON1bits.ADON = 1;    // ADC ON */
}
void vol_val(void){
   adc_vol[0]=adc[0]*0.00489;//10bits 0.00489, 8bits 0.0196
   adc_vol[1]=adc[1]*0.00489;

   adc_sen[0]=adc_vol[0];//TPS
   adc_sen[1]=adc_vol[1]*30;//VSS
}

//TMR1 interrupt, global variables and functions
#include<timer.h>

const unsigned int ckp[2700] = {128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,128,110,93,76,61,46,34,23,14,7,3,1,2,5,10,18,28,40,53,68,85,102,119,137,154,171,188,203,216,228,238,246,251,254,255,253,249,242,233,222,210,195,180,163,146,118,112,105,98,91,84,77,71,65,59,54,50,46,44,41,39,39,38,39,40,42,44,46,49,52,56,59,63,67,71,74,79,82,86,89,92,95,98,100,102,105,106,107,109,110,111,112,113,114,114,114,115,115,116,116,116,116,117,117,117,118,118,118,118,119,119,119,119,119,119,119,119,120,120,121,121,122,123,124,126,127,128,130,133,135,138,142,144,148,152,156,160,164,168,173,177,182,186,190,194,198,201,204,207,209,211,212,214,214,214,214,212,211,210,207,205,202,199,196,192,188,184,180,176,172,168,164,160,156,151,148,144,140,136,132};
//const unsigned int ckp[12000] = {128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,93,89,85,81,78,74,70,67,63,60,57,53,50,47,44,41,38,35,33,30,28,25,23,21,19,17,15,13,11,10,9,7,6,5,4,3,3,2,2,1,1,1,1,1,2,2,3,3,4,5,6,7,9,10,11,13,15,17,19,21,23,25,28,30,33,35,38,41,44,47,50,53,57,60,63,67,70,74,78,81,85,89,93,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,163,167,171,175,178,182,186,189,193,196,199,203,206,209,212,215,218,221,223,226,228,231,233,235,237,239,241,243,245,246,247,249,250,251,252,253,253,254,254,255,255,255,255,255,254,254,253,253,252,251,250,249,247,246,245,243,241,239,237,235,233,231,228,226,223,221,218,215,212,209,206,203,199,196,193,189,186,182,178,175,171,167,163,160,156,152,148,144,140,136,132,118,116,115,114,112,110,109,107,106,104,102,101,99,98,96,94,93,91,89,88,86,85,83,81,80,79,77,75,74,72,71,70,68,67,65,64,63,62,60,59,58,57,56,55,53,53,51,51,50,49,48,47,46,46,45,44,44,43,42,42,42,41,41,40,39,39,39,39,39,39,39,39,38,38,39,39,39,39,39,39,39,39,39,40,40,41,41,42,42,42,43,44,44,44,45,46,46,47,48,49,49,50,51,51,52,53,53,55,56,56,57,58,59,60,60,61,63,63,64,65,66,67,67,68,70,70,71,72,73,74,74,76,77,77,78,79,80,81,81,82,84,84,85,86,86,87,88,88,90,91,91,92,93,93,94,95,95,95,96,97,98,98,99,99,100,100,101,102,102,102,103,103,104,105,105,105,105,106,106,107,107,107,107,108,108,109,109,109,109,109,110,110,111,111,111,112,112,112,112,112,112,112,112,113,113,113,113,114,114,114,114,114,114,114,114,114,114,114,114,115,115,115,115,115,115,115,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,117,117,117,117,117,117,117,117,117,117,117,117,118,118,118,118,118,118,118,118,118,118,118,118,118,118,118,118,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,120,120,120,120,120,120,120,120,121,121,121,121,121,121,121,121,121,121,122,122,122,122,123,123,123,123,123,123,124,124,125,125,125,126,126,126,126,127,127,128,128,128,129,129,130,130,131,131,132,133,133,133,134,135,135,136,137,137,137,138,139,140,140,141,142,143,144,144,145,146,147,147,149,149,150,151,152,153,154,154,156,156,157,158,159,161,161,162,163,164,165,166,167,168,169,170,171,172,173,175,175,176,177,178,179,180,182,182,183,184,185,186,187,188,189,190,191,192,193,193,194,196,196,197,198,198,200,200,201,202,203,203,204,205,205,206,206,207,207,208,209,209,210,210,210,211,211,212,212,212,212,213,213,213,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,212,212,212,212,212,211,211,210,210,210,209,209,208,207,207,206,206,205,205,204,203,203,202,201,200,200,199,198,198,197,196,195,194,193,193,191,191,190,189,188,187,186,186,184,184,183,182,181,180,179,178,177,176,175,175,173,172,172,170,170,169,168,167,165,165,164,163,162,161,160,159,158,158,156,156,155,154,153,152,151,150,149,148,147,147,145,144,144,143,142,141,140,139,138,137,136,135,134,133,133,131,130,129,128,128,126,126,124,123,122,121,120,119,118,116,115,114,113,112,110};

unsigned int i=0;//sample count

double f = 0;
double tm = 0;
unsigned int tmr1 = 0;
void __attribute__((__interrupt__,no_auto_psv)) _T1Interrupt(void){
	IEC0bits.T1IE = 0;  // Disable TMR1 interrupt */
	T1CONbits.TON = 0;  // Timer1 OFF */
        
        LATE=(LATE&0b100000000)|ckp[i];	//LATE=ckp[i];//CKP

	LATF=ckp[i]>>6;//CKP

        if(i==1316)//45*29+45/4=1316
            LATCbits.LATC15=~LATCbits.LATC15;   // CMP
        else if((i==472)||(i==1732))
            LATCbits.LATC13=1;  // KS
        else if((i==494)||(i==1754))
            LATCbits.LATC13=0;  // KS
        i++;
	if(i==2700) i=0;

//        if(i==2925)//100*29+100/4=1316
//            LATCbits.LATC15=~LATCbits.LATC15;   // CMP
//        else if((i==1000)||(i==3800))
//            LATCbits.LATC13=1;  // KS
//        else if((i==1100)||(i==3900))
//            LATCbits.LATC13=0;  // KS
//        i++;
//	if(i==6000) i=0;

//        if(i==5850)//100*29+100/4=1316
//            LATCbits.LATC15=~LATCbits.LATC15;   // CMP
//        else if((i==2000)||(i==7600))
//            LATCbits.LATC13=1;  // KS
//        else if((i==2200)||(i==7800))
//            LATCbits.LATC13=0;  // KS
//        i++;
//	if(i==12000) i=0;

	TMR1 = tmr1;

        IFS0bits.T1IF = 0;  // Clear Timer interrupt flag */
	T1CONbits.TON = 1;  // Timer1 ON */
        IEC0bits.T1IE = 1;  // Enable TMR1 interrupt */
}
void tiempo_tmr1(void){
    f=-5.078*adc[0]+6000;
    tm = (650900/f)-61.57;
    tmr1=65535-tm;
}

//TMR2 interrupt, global variables and functions
unsigned int tmr2 = 0;

double t_2=0;
void __attribute__((__interrupt__,no_auto_psv)) _T2Interrupt(void){
        IEC0bits.T2IE = 0;  // Disable TMR2 interrupt */
        T2CONbits.TON = 0;  // Timer2 OFF */

	LATCbits.LATC14=~LATCbits.LATC14;//VSS

        TMR2=tmr2;

	IFS0bits.T2IF = 0;  // Clear Timer2 interrupt flag */
        IEC0bits.T2IE = 1;  // Enable TMR2 interrupt */
        T2CONbits.TON = 1;  // Timer2 ON */
}
void tiempo_tmr2(void){
    if((1024-adc[1])<6){
        IEC0bits.T2IE = 0;  // Disable TMR2 interrupt */
        T2CONbits.TON = 0;  // Timer2 OFF */
        
        t_2=480000;
    }else if((1024-adc[1])>=1000){
        IEC0bits.T2IE = 1;  // Enable TMR2 interrupt */
        T2CONbits.TON = 1;  // Timer2 ON */

        t_2=3333;
    }else{
        IEC0bits.T2IE = 1;  // Enable TMR2 interrupt */
        T2CONbits.TON = 1;  // Timer2 ON */

        t_2=3333333/(1024-adc[1]);
    }
    tmr2=65535-t_2*0.11125;
}

//TMR3 interrupt, global variables and functions
void __attribute__((__interrupt__,no_auto_psv)) _T3Interrupt(void){
    IEC0bits.T3IE = 0;  // Disable TMR3 interrupt */
    T3CONbits.TON = 0;  // Timer3 OFF */

    LATEbits.LATE8=~LATEbits.LATE8;//OXI

    TMR3=9910;
    
    IFS0bits.T3IF = 0;  // Clear Timer3 interrupt flag */
    IEC0bits.T3IE = 1;  // Enable TMR3 interrupt */
    T3CONbits.TON = 1;  // Timer3 ON */
}

//UART Debug
//#define Debug_serial
#if defined(Debug_serial)
    #include<uart.h>
    #include<stdio.h>
    unsigned char option = 0;
    void __attribute__((__interrupt__,no_auto_psv)) _U1RXInterrupt(void){
        option = getcUART1();
        IFS0bits.U1RXIF = 0;	// Clear U1 interrupt flag */
    }
    void debug_PICkit(void){
        if(option=='1')
            printf("1TPS %4u %1.3f %1.3f\n",adc[0],adc_vol[0],adc_sen[0]);
        else if(option=='2')
            printf("2VSS %4u %1.3f %1.3f\n",adc[1],adc_vol[1],adc_sen[1]);
        else if(option=='q'){
            printf("1TPS %4u %1.3f %1.3f\n",adc[0],adc_vol[0],adc_sen[0]);
            printf("\t\t\t %4.0f %3.3f %4u\n",f,tm,tmr1);
            printf("2VSS %4u %1.3f %1.3f\n",adc[1],adc_vol[1],adc_sen[1]);
            printf("\t\t\t %4.0f %4u\n",t_2,tmr2);
        }
        option=0;
    }
#endif

double map=0;
unsigned int dac=0;
void map_dac(void) { // MAP
    //MAP     f = p00 + p10*x + p01*y + p20*x^2 + p11*x*y + p02*y^2;
    map = -14.49 +0.1403*adc_sen[1] +9.239*adc_sen[0] -0.0003145*adc_sen[1]*adc_sen[1] -0.03021*adc_sen[1]*adc_sen[0] -1.363*adc_sen[0]*adc_sen[0];
	
    dac=map*51;

    LATD=dac;//MAP
    LATB=dac;//MAP
}
/* 
 */

int main(){
    TRISB=0b1111111100001111;//B7-B4 4-lsb MAP
    TRISC=0b0001111111111111;//C15=0 CMP    C14=0 VSS   C13=0 KS
    TRISD=0b1111111111110000;//D4-D0 4-msb MAP
    TRISE=0b1111111011000000;//E5-E0 6-lsb CKP //E8=0 OX
    TRISF=0b1111111111111100;//D4-D0 2-msb CKP //F2=1 RX    F3=0 TX

    SetChanADC10(   ADC_CH0_POS_SAMPLEA_AN0 & ADC_CH0_NEG_SAMPLEA_VREFN);//Channel
    OpenADC10(      ADC_MODULE_ON & ADC_IDLE_CONTINUE &
                    ADC_FORMAT_INTG & ADC_CLK_AUTO &
                    ADC_SAMPLE_SIMULTANEOUS & ADC_AUTO_SAMPLING_ON,//Adcon1_reg dont care ADC_SAMPLE_SIMULTANEOUS
                    ADC_VREF_AVDD_AVSS & ADC_SCAN_OFF &
                    ADC_CONVERT_CH0 & ADC_ALT_BUF_OFF &
                    ADC_SAMPLES_PER_INT_16 & ADC_ALT_INPUT_OFF,//Adcon2_reg
                    ADC_SAMPLE_TIME_1 & ADC_CONV_CLK_SYSTEM & //ADC_SAMPLE_TIME_1
                    ADC_CONV_CLK_5Tcy ,//Adcon3_reg  ADC_CONV_CLK_5Tcy .fast 2Tcy
                    ENABLE_AN0_ANA & ENABLE_AN1_ANA,//PinConfig
                    SCAN_NONE);//Scanselect
    ConfigIntADC10(ADC_INT_PRI_4 & ADC_INT_ENABLE);

    #if defined(Debug_serial)
    OpenUART1(	UART_EN & UART_IDLE_CON & UART_RX_TX &
                UART_DIS_WAKE & UART_DIS_LOOPBACK  &
                UART_EN_ABAUD & UART_NO_PAR_8BIT  &
                UART_1STOPBIT,//U1MODEvalue
                UART_INT_TX_BUF_EMPTY  &
                UART_TX_PIN_NORMAL &
                UART_TX_ENABLE & UART_INT_RX_CHAR &
                UART_ADR_DETECT_DIS &
                UART_RX_OVERRUN_CLEAR,//U1STAvalue
                47);//U2BRG = (Fcy/(16*BaudRate))-1 = (29,48M/(16*38400))-1 = 47//38400   //2800=657
    ConfigIntUART1( UART_RX_INT_EN & UART_RX_INT_PR4 &
                    UART_TX_INT_DIS & UART_TX_INT_PR4);
    #endif
    
    OpenTimer1( T1_ON & T1_IDLE_CON &
                T1_GATE_OFF & T1_PS_1_1 &
                T1_SYNC_EXT_OFF & T1_SOURCE_INT,
                0xFFFF);//match_value
    ConfigIntTimer1(T1_INT_PRIOR_7 & T1_INT_ON);

    OpenTimer2( T2_ON & T2_IDLE_CON &
            T2_GATE_OFF & T2_PS_1_256 &
            T2_32BIT_MODE_OFF & T2_SOURCE_INT,
            0xFFFF);//match_value
    ConfigIntTimer2(T2_INT_PRIOR_4 & T2_INT_ON);
    
    OpenTimer3( T3_ON & T3_IDLE_CON &
                T3_GATE_OFF & T3_PS_1_256 &
                T3_SOURCE_INT, 0xFFFF);//match_value
    ConfigIntTimer3(T3_INT_PRIOR_4 & T3_INT_ON);
    
    while(1){
        vol_val();
        tiempo_tmr1();
        tiempo_tmr2();
        map_dac();
        
        #if defined(Debug_serial)
        debug_PICkit();
        #endif
    }
    return 0;
}